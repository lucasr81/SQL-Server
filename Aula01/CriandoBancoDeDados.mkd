# Cria√ß√£o de Banco de Dados com SQL Server

## Sintaxe m√≠nima e pr√°tica

Neste material, vamos aprender **exclusivamente** sobre a **cria√ß√£o e gerenciamento inicial de bancos de dados no SQL Server**, de forma simples, direta e pr√°tica.

---

## 1. Forma mais simples de criar um banco de dados

üìå Essa √© a forma mais comum para quem est√° come√ßando.

```sql
CREATE DATABASE Biblioteca;
```

Pronto. S√≥ isso.

O SQL Server cria o banco **Biblioteca** usando as configura√ß√µes padr√£o:

* Local padr√£o dos arquivos
* Tamanho inicial pequeno
* Crescimento autom√°tico conforme a necessidade

üëâ √â como pedir para o sistema: *‚Äúcria um banco a√≠ pra mim‚Äù* ‚Äî ele resolve tudo sozinho.

---

## 2. Criando o banco com controle total

üìå Aqui voc√™ decide **onde**, **como** e **quanto** o banco pode crescer.

```sql
CREATE DATABASE Biblioteca
ON PRIMARY
(
    NAME = Biblioteca,                          -- nome l√≥gico do arquivo de dados
    FILENAME = 'C:\SQL\Biblioteca.mdf',       -- local f√≠sico do arquivo
    SIZE = 8MB,                                 -- tamanho inicial
    MAXSIZE = 15MB,                             -- tamanho m√°ximo permitido
    FILEGROWTH = 10%                            -- crescimento autom√°tico
)
LOG ON
(
    NAME = Biblioteca_log,
    FILENAME = 'C:\SQL\Biblioteca.ldf',
    SIZE = 1MB,
    FILEGROWTH = 1MB
);
GO
```

Com essa abordagem, voc√™ define:

* Onde os arquivos f√≠sicos ser√£o armazenados
* O tamanho inicial do banco
* At√© quanto ele pode crescer
* Como ocorre o crescimento (por tamanho fixo ou porcentagem)

‚ö†Ô∏è Na pr√°tica, **raramente usamos `MAXSIZE` t√£o pequeno**. Aqui √© apenas um exemplo did√°tico.

---

## 3. Listando bancos de dados existentes

### Forma moderna (recomendada)

```sql
SELECT name
FROM master.sys.databases
ORDER BY name;
```

### Forma antiga (ainda funciona)

```sql
EXEC sp_databases;
```

---

## 4. Usando um banco de dados

Para come√ßar a trabalhar dentro de um banco espec√≠fico:

```sql
USE Biblioteca;
```

Depois disso, todos os comandos (`CREATE TABLE`, `INSERT`, `SELECT`, etc.) ser√£o executados dentro do banco selecionado.

üëâ Funciona como um `cd` no terminal.

---

## 5. Visualizando detalhes de um banco

```sql
EXEC sp_helpdb 'Biblioteca';
```

Exibe informa√ß√µes como:

* Tamanho dos arquivos
* Caminho f√≠sico
* Status do banco
* Configura√ß√µes gerais

---

## 6. Apagando um banco de dados

Forma segura:

```sql
DROP DATABASE IF EXISTS Biblioteca;
```

‚úîÔ∏è O `IF EXISTS` evita erros caso o banco n√£o exista (SQL Server 2016+).

---

## 7. For√ßando a exclus√£o de um banco em uso

Quando h√° conex√µes ativas:

```sql
USE master;
GO

ALTER DATABASE Biblioteca
SET SINGLE_USER WITH ROLLBACK IMMEDIATE;

DROP DATABASE Biblioteca;
```

üìå Encerra todas as conex√µes imediatamente.

‚ö†Ô∏è Use principalmente em **ambientes de desenvolvimento ou teste**.

---

## Resumo r√°pido

```text
Criar simples:        CREATE DATABASE MeuBanco
Controle total:       CREATE DATABASE ... ON PRIMARY (...) LOG ON ...
Entrar no banco:      USE MeuBanco
Listar bancos:        SELECT name FROM sys.databases
Apagar tranquilo:     DROP DATABASE IF EXISTS MeuBanco
Apagar √† for√ßa:       ALTER DATABASE ... SET SINGLE_USER WITH ROLLBACK IMMEDIATE + DROP
```

---

## Conclus√£o

Esta √© a base para trabalhar com SQL Server. Com esses comandos, voc√™ j√° consegue **criar, acessar, inspecionar e remover bancos de dados**, mantendo controle e organiza√ß√£o desde o in√≠cio.

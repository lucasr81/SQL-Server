# Constraints (Restri√ß√µes) em Banco de Dados

## O que s√£o Constraints?

**Constraints** (ou **restri√ß√µes**) s√£o regras aplicadas √†s tabelas de um banco de dados para **garantir a integridade, consist√™ncia e confiabilidade dos dados** armazenados.

Elas impedem que dados inv√°lidos sejam inseridos, atualizados ou removidos do banco.

Em SQL, as constraints s√£o definidas geralmente **na cria√ß√£o da tabela** (`CREATE TABLE`) ou **ap√≥s a cria√ß√£o** (`ALTER TABLE`).

---

## Principais tipos de Constraints

### 1. NOT NULL

A constraint **NOT NULL** garante que uma coluna **n√£o aceite valores nulos**.

üìå Use quando o campo for obrigat√≥rio.

**Exemplo:**

```sql
CREATE TABLE Usuario (
    id INT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL
);
```

‚û°Ô∏è O campo `nome` n√£o pode ficar vazio.

---

### 2. UNIQUE

A constraint **UNIQUE** garante que os valores de uma coluna sejam **√∫nicos**, ou seja, n√£o podem se repetir.

üìå Muito usada para e-mails, CPF, CNPJ, logins, etc.

**Exemplo:**

```sql
CREATE TABLE Cliente (
    id INT PRIMARY KEY,
    email VARCHAR(150) UNIQUE
);
```

‚û°Ô∏è N√£o ser√° poss√≠vel cadastrar dois clientes com o mesmo e-mail.

---

### 3. PRIMARY KEY

A **PRIMARY KEY** identifica **unicamente cada registro** da tabela.

üìå Caracter√≠sticas:

* N√£o aceita `NULL`
* N√£o permite valores duplicados
* Cada tabela pode ter apenas **uma** chave prim√°ria

**Exemplo:**

```sql
CREATE TABLE Produto (
    id INT PRIMARY KEY,
    nome VARCHAR(100)
);
```

‚û°Ô∏è O campo `id` identifica cada produto de forma √∫nica.

---

### 4. FOREIGN KEY

A **FOREIGN KEY** cria um relacionamento entre tabelas, garantindo a **integridade referencial**.

üìå Um valor s√≥ pode existir se existir na tabela relacionada.

**Exemplo:**

```sql
CREATE TABLE Pedido (
    id INT PRIMARY KEY,
    cliente_id INT,
    FOREIGN KEY (cliente_id) REFERENCES Cliente(id)
);
```

‚û°Ô∏è O `cliente_id` s√≥ pode conter IDs que existam na tabela `Cliente`.

---

### 5. CHECK

A constraint **CHECK** valida valores com base em uma condi√ß√£o l√≥gica.

üìå √ötil para limitar faixas de valores.

**Exemplo:**

```sql
CREATE TABLE Funcionario (
    id INT PRIMARY KEY,
    salario DECIMAL(10,2),
    CHECK (salario > 0)
);
```

‚û°Ô∏è O sal√°rio deve ser maior que zero.

---

### 6. DEFAULT

A constraint **DEFAULT** define um valor padr√£o quando nenhum valor √© informado.

üìå Evita campos vazios desnecess√°rios.

**Exemplo:**

```sql
CREATE TABLE Usuario (
    id INT PRIMARY KEY,
    ativo BOOLEAN DEFAULT TRUE
);
```

‚û°Ô∏è Se n√£o informar, o campo `ativo` ser√° `TRUE`.

---

## Criando Constraints com ALTER TABLE

Tamb√©m √© poss√≠vel adicionar constraints **ap√≥s a cria√ß√£o da tabela**.

**Exemplo:**

```sql
ALTER TABLE Cliente
ADD CONSTRAINT uq_email UNIQUE (email);
```

---

## Resumo das Constraints

| Constraint  | Fun√ß√£o                              |
| ----------- | ----------------------------------- |
| NOT NULL    | Impede valores nulos                |
| UNIQUE      | Impede valores duplicados           |
| PRIMARY KEY | Identifica registros de forma √∫nica |
| FOREIGN KEY | Cria relacionamento entre tabelas   |
| CHECK       | Valida condi√ß√µes                    |
| DEFAULT     | Define valor padr√£o                 |

---

## Conclus√£o

As constraints s√£o fundamentais para manter um banco de dados **seguro, organizado e confi√°vel**. Elas evitam erros comuns e garantem que as regras do neg√≥cio sejam respeitadas diretamente no banco de dados.

üìå Sempre que poss√≠vel, utilize constraints em vez de depender apenas da valida√ß√£o no c√≥digo da aplica√ß√£o.
